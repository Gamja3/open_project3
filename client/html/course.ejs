<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="/client/css/home.css">
<link rel="stylesheet" href="/client/css/course.css">
<!-- <link rel="stylesheet" href="/client/css/qr_style.css"> -->
<title>COURSE</title>
</head>

<body>
    <style>
        .contents-box-image {
            flex: 0 0 30%;
            max-width: 30%;
            height: 140px;
        }
        .contents-box-image img {
            height: 140px;
            object-fit: cover;
            
        }
    </style>


<div class="w-full mx-auto">
    <div id="map" style="width:100%; height:100vh;"></div>

    <div id='contentsBox' class="transition-all duration-500 fixed -bottom-[75px] h-48 z-30">
        <!-- 고래 이미지 -->
        <div class="absolute -top-[69px] z-10"><img src="./client/images/course/pinkwhale_S.png"></div>
        <!-- // 고래 이미지 -->

        <!-- item start -->
        <div id="position0" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp00.JPG">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">진입광장</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 단체 방문자를 고려한 진출입 기능과 주차장, 쉼터 등과 연계한 편의제공을 위한 만남의 장소</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position1" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp01.jpg">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">장생포 옛마을</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 과거 포경전성기 장생포 어민들의 실제생활상을 그대로 재현하여 활기 넘치는 장생포마을 조성
                    </div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position2" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp02.jpg">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">수생식물원</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 계곡부의 자연 발생된 습지에 생태연못과 수생식물을 식재하여 생태체험 및 학습효과를 제공하는 오픈스쿨 수변공간</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position3" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp03.jpg">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">고래이야기길</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 엄마고래와 아기고래 장생이, 그리고 장생포 사람들의 이야기를 담은 만남과 추억의 테마를 가진 스토리텔링형 포토존</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position4" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp04.JPG">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">토템플</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 반구대암각화와 고래잡이벽화 등 선사시대 고래역사문화를 체험할 수 있는 야외학습공간</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position5" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp05.jpg">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">고래조각공원</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 실물크기의 고래를 형상화하여 다양한 고래를 경험하고 학습하는 이색적인 체험공간</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position6" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp06.JPG">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">선사시대</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 반구대암각화와 고래잡이벽화 등 선사시대 고래역사문화를 체험할 수 있는 야외학습공간</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position7" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp07.JPG">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">고래만나는길</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 사람들에게 친숙하고 늘 함께할 수 있는 고래의 이미지를 형상화한 교감과 공존의 테마를 가진 스토리텔링형 포토존</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position8" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp08.jpg">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">고래박물관</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 옛 고래잡이 전진기지였던 장생포에 사라져가는 포경유물을 수집, 보존·전시하고 고래와 관련된 각종 정보를 제공함으로써 해양생태계 및 교육연구 체험공간을 제공</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position9" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp09.JPG">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">고래광장</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 고래문화마을의 중심 공간으로 다양한 축제와 이벤트가 가능한 오픈 스페이스</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position10" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp10.jpg">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">고래생태체험관</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 우리나라 최초의 돌고래수족관이며, 바닷물고기 수족관과 생태 전시관 및 과거포경의 생활상을 볼 수 있는 디오라마 전시</div>
                </div>
            </div>
        </div>
        <!-- item end -->
        <!-- item start -->
        <div id="position11" class="hidden w-full p-4 bottom-0 h-48 bg-white rounded-t-3xl transition-all duration-500 border-2">
            <div class="flex gap-4">
                <div class="contents-box-image">
                    <img src="/client/images/course/stamp11.JPG">
                </div>
                <!-- right -->
                <div class="flex flex-col">
                    <div class="flex">
                        <div class="flex-1 text-xl font-bold">울산함</div>
                        <button class="closeExplanation">[닫기]</button>
                    </div>
                    <div class="mt-4"> 울산함은 대한민국 최초의 호위함으로 당시에는 대형 함정 설계 경험이 없어 몇 번의 시행착오 끝에 설계와 건조 모두를 우리 기술로 완성</div>
                </div>
            </div>
        </div>
        <!-- item end -->


    </div>
</div>

<!--위치 소개 설명-->

<!-- bootstrap navbar -->
<%- include('footer.html') %>
<!-- // bootstrap navbar -->




<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7485753ca84a3c34b78ea8ebceaf7132"></script>
<script>
const $contentsBox = document.getElementById('contentsBox')
const $$closeExplanation = document.getElementsByClassName('closeExplanation')
const $position0 = document.getElementById('position0')
const $position1 = document.getElementById('position1')
const $position2 = document.getElementById('position2')
const $position3 = document.getElementById('position3')
const $position4 = document.getElementById('position4')
const $position5 = document.getElementById('position5')
const $position6 = document.getElementById('position6')
const $position7 = document.getElementById('position7')
const $position8 = document.getElementById('position8')
const $position9 = document.getElementById('position9')
const $position10 = document.getElementById('position10')
const $position11 = document.getElementById('position11')

let $$position = [$position0, $position1, $position2, $position3, $position4, $position5, $position6, $position7, $position8, $position9, $position10, $position11]



var markerSrcBlue = './client/images/course/marker_blue.png',  // 마커이미지의 주소입니다
    imageSizeBlue = new kakao.maps.Size(30, 50)  // 마커이미지의 크기입니다

var markerSrcRed = './client/images/course/marker_red.png',
    imageSizeRed = new kakao.maps.Size(45, 76)


    // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다
var marker_blue = new kakao.maps.MarkerImage(markerSrcBlue, imageSizeBlue);
var marker_red = new kakao.maps.MarkerImage(markerSrcRed, imageSizeRed);



var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
    mapOption = { 
        center: new kakao.maps.LatLng(35.50415002750249, 129.38134679993638), // 지도의 중심좌표
        level: 3 // 지도의 확대 레벨
    };

var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

// 마커가 표시될 위치입니다 
let markerPosition0 = new kakao.maps.LatLng(35.505772219849, 129.3832112797619);  // 진입광장
let markerPosition1 = new kakao.maps.LatLng(35.50569798179867, 129.3824656256554);  // 옛마을
let markerPosition2 = new kakao.maps.LatLng(35.506459, 129.381735);  // 수생식물원
let markerPosition3 = new kakao.maps.LatLng(35.506490, 129.380984);  // 고래이야기길
let markerPosition4 = new kakao.maps.LatLng(35.504973, 129.380214);  // 토템플
let markerPosition5 = new kakao.maps.LatLng(35.50567398160293, 129.3810208276431);  //고래조각공원
let markerPosition6 = new kakao.maps.LatLng(35.504755, 129.380572);  // 선사시대
let markerPosition7 = new kakao.maps.LatLng(35.504556035295614, 129.3809993699714);  // 고래만나는 길
let markerPosition8 = new kakao.maps.LatLng(35.502969819488754, 129.38084121534428);  // 장생포 고래박물관
let markerPosition9 = new kakao.maps.LatLng(35.505076, 129.381436);  // 고래광장
let markerPosition10 = new kakao.maps.LatLng(35.502403, 129.382175);  // 고래생태체험관
let markerPosition11 = new kakao.maps.LatLng(35.501971146220846, 129.38243211843871);  //울산함

let markerChange = false;

let $$markerPosition = [markerPosition0, markerPosition1, markerPosition2, markerPosition3, markerPosition4, markerPosition5, markerPosition6, markerPosition7, markerPosition8, markerPosition9, markerPosition10, markerPosition11]

// 마커를 생성합니다
let marker0, marker1, marker2, marker3, marker4, marker5, marker6, marker7, marker8, marker9, marker10, marker11;
let $$marker = [marker0, marker1, marker2, marker3, marker4, marker5, marker6, marker7, marker8, marker9, marker10, marker11]

for (let i = 0; i < $$marker.length; i++) {
    $$marker[i] = new kakao.maps.Marker({
    position: $$markerPosition[i],
    image: marker_blue
    });
}

// 마커가 지도 위에 표시되도록 설정합니다
for (let i = 0; i < $$marker.length; i++){
    $$marker[i].setMap(map);
}

// 마커 클릭 이벤트
for (let i = 0; i < $$marker.length; i++){
    kakao.maps.event.addListener($$marker[i], 'click', function(){
    // 마커 리셋
    markerReset()
    positionHidden(i)
    // 클릭 이미지 변경
    $$marker[i].setImage(marker_red);
    // 중심좌표 이동
    map.setCenter($$markerPosition[i])
    })
}

// 마커 리셋
function markerReset(){
    for(let i = 0; i < $$marker.length; i++) {
        $$marker[i].setImage(marker_blue);
    }
}

// 마커 히든 클래스 추가 삭제 = 컨텐츠 카드 변경
function positionHidden(marker){
    for(i=0; i<$$position.length; i++){
    $$position[i].classList.add('hidden')
    $$position[marker].classList.remove('hidden')
    $contentsBox.classList.replace('-bottom-[75px]','bottom-[115px]')
    }
}

// [닫기] 버튼
for (var i = 0 ; i < $$closeExplanation.length; i++) {
  $$closeExplanation[i].addEventListener('click', function(){
  $contentsBox.classList.replace('bottom-[115px]','-bottom-[75px]');
  })
}

// 1- 눌렀을때 아이콘 바껴야 됨.
// 2- QR체크 했을 떄 아이콘 색깔 바껴야함




// QR값을 받아서 배열에 넣기


</script>
</body>
</html>